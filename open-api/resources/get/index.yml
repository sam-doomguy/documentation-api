summary: Get list of resources
description:
  This endpoint allows a user with FULL access to get the list of excluded resources due to exceptions that have been configured.
  There is a 10k limit to the maximum number of excluded resources that can be returned.
  Paging will not work for excluded resources higher than this limit.
  To fetch larger numbers, segment your requests using account and/or region filtering.
  On larger organisations, filter requests per account, per region or provider to avoid timeouts.
tags:
  - Resources
parameters:
  - in: query
    name: excluded
    schema:
      type: string
      enum: [true]
    required: true
    description: true for returning excluded resources. Currently only `true` is supported.
  - in: query
    name: accountIds
    schema:
      type: string
      example: r1gyR4cqg,W5xs6srh2
    required: false
    description: A comma-separated list of Cloud Conformity accountIds.
      If not specified, results will be returned for all accounts the user has access to.
  - in: query
    name: page[size]
    schema:
      type: number
      example: 200
      maximum: 2000
      default: 100
    required: false
    description: Indicates the number of excluded resources that should be returned.
      The maximum value is 2000 and defaults to 100 if not specified.
  - in: query
    name: page[number]
    schema:
      type: number
      example: 2
      default: 0
    required: false
    description: Indicates the page number, defaults to 0.
  - in: query
    name: filter[regions]
    schema:
      allOf:
        - $ref: ../../shared-schemas/fields/aws-regions.yml
        - $ref: ../../shared-schemas/fields/azure-regions.yml
    required: false
    description: Used to filter based on provider regions.
  - in: query
    name: filter[tags]
    schema:
      type: string
      example: tag1
    required: false
    description: Used to filter based on Any assigned metadata tags to your resources.
  - in: query
    name: filter[providers]
    schema:
      $ref: ../../shared-schemas/fields/provider.yml
    required: false
    description: Used to filter based on the cloud provider.
responses:
  200:
    description: OK
    content:
      application/json:
        schema:
          $ref: ./responses/200.yml
  401:
    description: Unauthorized. When the API Key is not provided.
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
              default: Unauthorized.
  403:
    description: Unauthorized. The requester user does not have enough privilege.
    content:
      application/json:
        schema:
          $ref: ../../shared-schemas/responses/403.yml
security:
  - Authorizer: []
